$android-icon-font-size: 24px;
$ios-icon-font-size: 30px;

$background-color-key-error: red;
$background-color-key-confirm: gray;

@media only screen and (max-density: 120dpi) {
  // ldpi
}
@media only screen and (max-density: 160dpi) {
  // mdpi
}
@media only screen and (max-density: 213dpi) {
  // tvdpi
}
@media only screen and (max-density: 240dpi) {
  // hdpi
}
@media only screen and (max-density: 320dpi) {
  // xhdpi
}
@media only screen and (max-density: 480dpi) {
  // xxhdpi
}
@media only screen and (max-density: 640dpi) {
  // xxxhdpi
}
@media only screen and (min-width: 320px) {
  // Custom, iPhone Retina
}
@media only screen and (min-width: 480px) {
  // Extra Small Devices, Phones
}
@media only screen and (min-width: 768px) {
  // Small Devices, Tablets
  html.xyzzy {
    width: 480px;
    height: (480px * 568px / 329px);
  }
}
@media only screen and (min-width: 992px) {
  // Medium Devices, Desktops
}
@media only screen and (min-width: 1200px) {
  // Large Devices, Wide Screens
}

html {
  display: none;

  &.android #calculator .page-content { padding-bottom: 116px; }
  &.ios #calculator .page-content { padding-bottom: 91px; }
  #calculator .page-content { padding-bottom: 99px; }

  //
  // Desktop
  //
  &:not(.ios):not(.android) {
    background-color: inherit;

    #calculator .page-content { overflow: hidden; }

    // .navbar .navbar-inner .text-only {
    //   display: block;
    // }

  }

  //
  // Android or Desktop
  //
  &:not(.ios) .key-favorite-set i.icon:not([class*='ion-ios-']) {
    font-size: 36px;
    display: block;
  }

  //
  // Android
  //
  &.android {
    // Turn on android specific icons
    .navbar .navbar-inner {
      .icon-only { display: flex; }
      i.icon:not([class*='ion-ios-']) { display: block; }
    }

    .toolbar .tab-link {
      i.icon:not([class*='ion-ios-']) { display: block; }
    }

    // Tweak the nav bar
    .navbar i.icon { font-size: $android-icon-font-size; }

    // Tweak the tab bar
    .tabbar {
      a.tab-link i.icon { font-size: $android-icon-font-size; }
      .tab-link-highlight { height: 6px; }
    }

    .tabbar-labels a.tab-link {
      padding-top: 6px;
      .tabbar-label { font-size: 12px; }
    }
  }

  //
  // iOS
  //
  &.ios {
    // Turn on IOS specific icons
    .navbar .navbar-inner {
      .icon-only { display: flex; }
      i.icon[class*='ion-ios-'] { display: block; }
    }

    .key-favorite-set i.icon[class*='ion-ios-'] { display: block; }

    .toolbar .tab-link {
      &:not(.active) i.icon[class*='ion-ios-'][class*='-outline'] {
        display: block;
      }

      &.active i.icon[class*='ion-ios-']:not([class*='-outline']) {
        display: block;
      }
    }

    // Tweak the nav bar
    .navbar i.icon { font-size: $ios-icon-font-size; }

    // Tweak the tab bar
    .tabbar a.tab-link i.icon { font-size: $ios-icon-font-size; }
    .tabbar-labels a.tab-link { padding: 0; }
  }
}

.navbar .navbar-inner .editing { display: none; }

.toolbar .tab-link,
.key-favorite-set {
  i.icon { display: none; }
}

#favorites {
  &.editing .navbar .navbar-inner {
    .editing { display: flex; }
    .main { display: none; }
  }
  .left .editing {margin-left: 0; }

  .item-media {
    .icon {
      transition-delay: 0.125s;
      transition-duration: 0.5s - 0.125s;
      opacity: 0;
    }

    a {
      margin: 0;
      padding: 0;
      color: red;
    }
  }

  li {
    left: -40px;
    transition-delay: 0;
    transition-duration: 0.5s;
  }

  &.editing {
    .item-media .icon {
      transition-delay: 0.125s;
      transition-duration: 0.5s - 0.125s;
      opacity: 1;
    }

    li {
      left: 0;
      transition-delay: 0;
      transition-duration: 0.5s;
    }
  }
}

#calculator .content-block {
  height: 100%;
  margin-top: 0;
  padding: 0;
}

.display {
  font-size: 2em;

  height: 1.35em;

  padding: {
    right: 3px;
    left: 3px;
  }
  border: 1px solid;
}

.keypad {
  display: flex;
  flex-direction: row;
  flex: 8;
  height: 100%;

  border: 1px solid;
}

.keypad-column {
  display: flex;
  flex-direction: column;
  flex: 1;
}

.variable {
  font: {
    style: italic;
    family: serif;
  }
}

.key {
  font-size: 2em;

  display: flex;
  flex: 1;
  align-items: center;
  justify-content: center;

  width: 100%;
  height: 100%;

  border: 1px solid;
}

// TODO: Decide whether to use these colors
// sass-lint:disable no-css-comments
/*
.key { color: black; border-color: blue;}
.key-d { background-color: rgba(cornflowerblue, 0.7);}
.key-roll { background-color: rgba(lightgreen, 0.7); }
.key-favorite { background-color: rgba(yellow, 0.7); }
.key-clear, .key-delete { background-color: rgba(gray, 0.7); }
.key-operator { background-color: rgba(indigo, 0.7); }
.key-keep { background-color: rgba(orange, 0.7); }
*/
// sass-lint:enable no-css-comments
//  text-shadow: 1px 0 0 orange, 0 -1px 0 orange, 0 1px 0 orange,
//               -1px 0 0 orange;

.key-roll {
  flex: 2;
  padding-top: 2px;
}

.confirm { background-color: $background-color-key-confirm; }

.error { background-color: $background-color-key-error; }
