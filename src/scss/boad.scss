$android-icon-font-size: 24px;
$ios-icon-font-size: 30px;

$background-color-key-error: red;
$background-color-key-confirm: gray;

$favs-trans-dur: 0.3s;

@media only screen and (max-density: 120dpi) {
  // ldpi
}
@media only screen and (max-density: 160dpi) {
  // mdpi
}
@media only screen and (max-density: 213dpi) {
  // tvdpi
}
@media only screen and (max-density: 240dpi) {
  // hdpi
}
@media only screen and (max-density: 320dpi) {
  // xhdpi
}
@media only screen and (max-density: 480dpi) {
  // xxhdpi
}
@media only screen and (max-density: 640dpi) {
  // xxxhdpi
}
@media only screen and (min-width: 320px) {
  // Custom, iPhone Retina
}
@media only screen and (min-width: 480px) {
  // Extra Small Devices, Phones
}
@media only screen and (min-width: 768px) {
  // Small Devices, Tablets
  html.xyzzy {
    width: 480px;
    height: (480px * 568px / 329px);
  }
}
@media only screen and (min-width: 992px) {
  // Medium Devices, Desktops
}
@media only screen and (min-width: 1200px) {
  // Large Devices, Wide Screens
}

html {
  display: none;

  //
  // Desktop
  //
  &:not(.ios):not(.android) { background-color: inherit; }

  //
  // Android or Desktop
  //
  &:not(.ios) .key-favorite-set i.icon:not([class*='ion-ios-']) {
    font-size: 36px;

    display: block;
  }

  //
  // Android
  //
  &.android {
    // Turn on android specific icons
    .navbar .navbar-inner {
      .icon-only { display: flex; }
      i.icon:not([class*='ion-ios-']) { display: block; }
    }

    .toolbar .tab-link i.icon:not([class*='ion-ios-']) { display: block; }

    // Tweak the nav bar
    .navbar i.icon { font-size: $android-icon-font-size; }

    // Tweak the tab bar
    .tabbar {
      a.tab-link i.icon { font-size: $android-icon-font-size; }
      .tab-link-highlight { height: 6px; }
    }

    .tabbar-labels a.tab-link {
      padding-top: 6px;
      .tabbar-label { font-size: 12px; }
    }
  }

  //
  // iOS
  //
  &.ios {
    // Turn on IOS specific icons
    .navbar .navbar-inner {
      .icon-only { display: flex; }
      i.icon[class*='ion-ios-'] { display: block; }
    }

    .key-favorite-set i.icon[class*='ion-ios-'] { display: block; }

    .toolbar .tab-link {
      &:not(.active) i.icon[class*='ion-ios-'][class*='-outline'] {
        display: block;
      }

      &.active i.icon[class*='ion-ios-']:not([class*='-outline']) {
        display: block;
      }
    }

    // Tweak the nav bar
    .navbar i.icon { font-size: $ios-icon-font-size; }

    // Tweak the tab bar
    .tabbar a.tab-link i.icon { font-size: $ios-icon-font-size; }
    .tabbar-labels a.tab-link { padding: 0; }
  }
}

.toolbar .tab-link,
.key-favorite-set {
  i.icon { display: none; }
}

#favorites .list-block {
  .item-media a { color: red; }

  .item-after {
    margin-right: -20px;
    .edit { color: inherit; }
   }

  .sortable-handler { right: 40px; }

  i.icon { font-size: 1.5em; }

  li {
    .sortable-handler {
      top: 0;
      right: 30px;

      transition: // sass-lint:disable indentation
        right $favs-trans-dur 0,
        top $favs-trans-dur,
        opacity $favs-trans-dur;
      // sass-lint:enable indentation

      opacity: 1;
    }

    &.swipeout-opened .sortable-handler {
      top: -30px;
      right: -30px;

      transition: // sass-lint:disable indentation
        right $favs-trans-dur 0,
        top $favs-trans-dur,
        opacity $favs-trans-dur;
      // sass-lint:enable indentation

      opacity: 0;
    }
  }
}

.display {
  font-size: 2em;

  height: 1.35em;
  padding:  {
    right: 3px;
    left: 3px;
  }
  border: 1px solid;
}

.ios,
.android {
  .keypad-container {
    // Total height of div.display (1.36em height  + 2px border)
    // Height of horizontal borders in keypad (8 rows x 2 1px borders)
    // 5px more (not sure where these ae froim)
    height: calc(100% - (1.35em + 2px) - 16px - 5px;);
  }
}

.keypad-container {
  // Total height of div.display (1.36em height  + 2px border)
  // 4px more (not sure where these ae froim)
  height: calc(100% - (1.35em + 2px) - 4px);
}

.keypad {
  display: flex;
  flex-direction: row;
  flex: 8;

  height: 100%;

  border: 1px solid;
}

.keypad-column {
  display: flex;
  flex-direction: column;
  flex: 1;
}

.variable {
  font:  {
    family: serif;
    style: italic;
  }
}

.key {
  font-size: 2em;

  display: flex;
  flex: 1;
  align-items: center;
  justify-content: center;

  width: 100%;
  height: 100%;

  border: 1px solid;
}

//Steal a little from the list block to use for the label.
#history .list-block {
  margin-top: 25px;

  .list-block-label {
    margin-top: 0;
    margin-bottom: 10px;
  }
}

// TODO: Decide whether to use these colors
// sass-lint:disable no-css-comments
/*
.key { color: black; border-color: blue;}
.key-d { background-color: rgba(cornflowerblue, 0.7);}
.key-roll { background-color: rgba(lightgreen, 0.7); }
.key-favorite { background-color: rgba(yellow, 0.7); }
.key-clear, .key-delete { background-color: rgba(gray, 0.7); }
.key-operator { background-color: rgba(indigo, 0.7); }
.key-keep { background-color: rgba(orange, 0.7); }
*/
// sass-lint:enable no-css-comments
//  text-shadow: 1px 0 0 orange, 0 -1px 0 orange, 0 1px 0 orange,
//               -1px 0 0 orange;

.key-roll {
  flex: 2;

  padding-top: 2px;
}

.confirm { background-color: $background-color-key-confirm; }

.error { background-color: $background-color-key-error; }
